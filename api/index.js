const moment=require("moment"),consolas=console.log;console.log=function(...e){const s=(new Date).toISOString();consolas.apply(console,[`[${moment(s).format("YY-MMM-DD HH:mm")}]`,...e])};const express=require("express"),app=express();app.use(express.json({limit:"10mb"}));const port=3006,API=require("./api.js");var cred=require("./cred.js");const DB=require("./db.js");cred.mysql.connectionLimit=100,cred.mysql.multipleStatements=!0;var mysql=require("mysql"),db=new DB(mysql.createPool(cred.mysql));const api=new API(db);app.get("/api",((e,s)=>{s.status(200).send()})),app.post("/api",api.call.bind(api)),app.listen(3006,(()=>{console.log("App listening at http://localhost:3006")}));